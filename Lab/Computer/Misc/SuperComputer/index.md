% スパコン並列計算プログラミング
%
%

## 並列

- 並列
  - 時間的に独立
- 並行
  - タイムシェアリング

#### 命令・データ

- SISD：単一命令・単一データ
- SIMD：単一命令・複数データ
- MISD：複数命令・単一データ
- MIMD：複数命令・複数データ

#### アドレス空間

- 共有メモリ
  - メモリはバスにひとつ
- 分散共有メモリ
  - メモリが各CPUごとに分割して置いてある
  - アドレス空間はひとつ
- 分散メモリ
  - CPUごとにアドレス空間がある

### アムダールの法則

実行時間 = 並列化できない処理 + 並列で分割できる処理 / 並列数

並列化できない処理，全スレッドで共通の処理を減らすことで，並列化を活かすことができる．


## MPI




## メモリアクセスの癖

### キャッシュ


## 行列積


## 線形連立方程式

$Ax=b$ なる $x$ を求めたい

|          |          |          |       |
| -------- | -------- | -------- | ----- |
| $A_{11}$ | $A_{12}$ | $A_{13}$ | $b_1$ |
| $A_{21}$ | $A_{22}$ | $A_{23}$ | $b_2$ |
| $A_{31}$ | $A_{32}$ | $A_{33}$ | $b_3$ |

### ガウス消去法

1. 行基本変形で上三角に変換する．ただし対角成分を $1$ にする．ベクトルの演算を$O(1)$とすると，$N+(N-1)+(N-2)\cdots=O(N^2)$

|     |           |           |        |
| --- | --------- | --------- | ------ |
| $1$ | $A'_{12}$ | $A'_{13}$ | $b'_1$ |
|     | $1$       | $A'_{23}$ | $b'_2$ |
|     |           | $1$       | $b'_3$ |

2. $x_n=b'_n$ から順番に $x_i$ が求まる．（Forward Elimination）

- 負荷バランスが悪いので並列化に向かない

### LU分解法

1. $A=LU$ 下三角 $L$ と上三角 $U$ に分解する．後述
2. $Lc=b$ $c_1$から順番に求まる．（前進代入）
3. $Ux=c$ $x_n$から逆順に求まる．（後退代入）

## LU分解

LU分解は一意に定まらないことに注意．

実際に解く問題は A が非常に大きいので，A のメモリをそのまま使って LU を記憶したい．

### 外積形式ガウス法

$$
A_{ik} - A_{kk}(A_{ik}/A_{kk})
$$

### 内積形式ガウス法

### クラウト法

### ブロック形式ガウス法

$A$ を小行列に分解してそれぞれで $LU$ 分解する方法．

## 固有値問題

$$
\det (A-I\lambda) = 0 
$$
