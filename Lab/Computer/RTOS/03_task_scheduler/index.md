---
title: タスクスケジューラを作る
---

具体的に、どうやってタスクに優先順位をつけて管理すればいいでしょうか。

## タスク管理

マイコンにとっても、人間にとっても、タスク管理は全く同じです。

というわけで、人間用のタスク管理ソフトで、マイコンのタスク管理をしてみましょう。

これは、いわゆる「カンバン」ってやつです。

使い方は簡単で、まず、一番左の列にタスクを書き並べます。

そして、タスクに優先度を振ります。

んで、

## タスクの状態遷移

## マイコンのタスク管理

これを実装してみましょう。

### タスク構造体

```C:
typedef struct{
    state task_entry;
    uint priority;
} task;
```

### タスクの状態

```C:
enum task_state{
    WAITING,
    READY,
    RUNNING
}
```

列挙型といいまして、実体はただの数値です。

### レディキュー

タスクの優先順位は、以下のように決まります。

1. 優先度が高いものを先に実行
2. 同じ優先度
